---
title: 如何在Shell中运行R语言脚本
author: Jimmy fung
date: '2018-04-08'
slug: r_in_shell
categories:
  - R语言
  - Shell
tags:
  - R语言
  - Shell
  - 脚本
---



<div id="shellr" class="section level1">
<h1>在Shell中运行R语言脚本的两种方法</h1>
<ul>
<li>第一种：</li>
</ul>
<pre class="bash"><code>Rscript yourscript.R</code></pre>
<ul>
<li>第二种：</li>
</ul>
<pre class="bash"><code>r CMD BATCH myscript.R</code></pre>
</div>
<div class="section level1">
<h1>存在问题</h1>
<p>本人电脑系统为<code>macOS High Sierra</code>，
我在R语言脚本中使用了<code>readline()</code>这一函数希望能够将R语言脚本制作成<strong>交互式脚本</strong>，
但是在实际的运行过程中，脚本根本不给我输入的机会，可能是因为对于R语言的了解还不够深吧。</p>
</div>
<div class="section level1">
<h1>问题解决</h1>
<p>事实上，可以让shell脚本给R语言传入参数。
在shell中将交互式内容写好，然后传递给R语言脚本。
需要使用到的代码块是：</p>
<pre class="r"><code>args &lt;- commandArgs(T)</code></pre>
<p>然后在shell中需要以如下方式传递参数：</p>
<pre class="bash"><code>Rscript myscript.R &quot;arg1&quot; &quot;arg2&quot;</code></pre>
<p>代码块中的双引号其实挺重要的，当你的<code>arg1</code>是<code>there are some blanks</code>时，
如果不加引号的话，事实上传递了四个参数给R语言脚本，分别是<code>there</code>,<code>are</code>,<code>some</code>,<code>blanks</code>，
这个时候自然脚本的运行就会发生较大的偏误啦。</p>
</div>
